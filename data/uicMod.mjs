import*as cfgMod from"./cfgMod.mjs";import*as cbMod from"./cbMod.mjs";let maxDuration=20;let popupTimeout;export function refreshAllElements(){refreshAutoEnableDisplay(cfgMod.getAutoEnable());refreshRelayDisplay(cfgMod.getRelayStatus());cbMod.refreshAllTimeslotsDisplay();refreshDurationDisplay(cfgMod.getDuration());refreshGMTOffsetDisplay(cfgMod.getGMTOffset());setMaxDurationDisplay(maxDuration);refreshMaxDurationDisplay(cfgMod.getDuration());refreshNTPDisplay(cfgMod.getUseNTP())}export function refreshAutoEnableDisplay(t){if(t){$("#timerEnable").text("Enabled")}else{$("#timerEnable").text("Disabled")}}export function refreshRelayDisplay(t){if(t){$("#irrigationStatusIndicator").addClass("enabledBtn");$("#irrigationStatusIndicator").removeClass("disabledBtn")}else{$("#irrigationStatusIndicator").addClass("disabledBtn");$("#irrigationStatusIndicator").removeClass("enabledBtn")}}export function refreshNTPDisplay(t){$("#useNTP").prop("checked",t);if(t){$("#userDateTimeDiv").hide()}else{let t=new Date;setDateFieldValue(t);$("#userDateTimeDiv").show()}}export function refreshDurationDisplay(t){$("#intervalDuration").val(t);refreshDurationDisplayText()}export function refreshDurationDisplayText(){$("#intervalDurationDisplay").text($("#intervalDuration").val())}export function setMaxDurationDisplay(t){$("#maxIntervalDuration").val(t)}export function refreshMaxDurationDisplay(t){let e=parseInt($("#maxIntervalDuration").val());if(t>e){refreshDurationDisplay(e)}$("#intervalDuration").attr("max",e)}export function refreshGMTOffsetDisplay(t){$("#GMTOffset").val(t)}export function setDateFieldValue(t){let e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")+"T"+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0");$("#userDateTime").val(e)}export function refreshDateDisplay(t){let e=t.getFullYear();let a=t.getMonth()+1;let r=t.getDate();let i=t.getHours();let o=t.getMinutes();let s=t.getSeconds();let n=`${e}/${a.toString().padStart(2,"0")}`+`/${r.toString().padStart(2,"0")} ${i.toString().padStart(2,"0")}:`+`${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;$("#time").text(n)}export function showPopupDisplay(t){clearTimeout(popupTimeout);$("#popup").show();$("#popupText").text(t);popupTimeout=setTimeout(hidePopupDisplay,3e3)}export function hidePopupDisplay(){$("#popup").hide()}export function refreshTimeslotDisplay(t,e){let a=$(`#timeBtn${t}`);let r=$(a).find(".tState");if(e){$(a).addClass("enabledBtn");$(a).removeClass("disabledBtn");$(r).text("On")}else{$(a).addClass("disabledBtn");$(a).removeClass("enabledBtn");$(r).text("Off")}}export function createTimeslotButtons(){for(let r=0;r<24;r++){let t=$("<button>",{id:`timeBtn${r}`,class:"timeBtn"});let e=$("<span>",{class:"tIndex"});let a=$("<span>",{class:"tState"});$(e).text(r);$(a).text("Off");$(t).append(e);$(t).append(a);$(".irrigationScheduleRow").append(t)}}